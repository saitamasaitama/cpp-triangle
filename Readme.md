# What is This Repository
arduino等の低レベルプログラミング環境にてロボットアームを操作することを目的とした
簡易vector3 とIK(InverseKinematics)を実装するコード。

## 利用方法

main.cppはテストでのみ利用するものなのでこれは無視してよい。
- triangle.h
- triangleIK.h
- vector3.h
の三つのファイルのみが本レポジトリにおける重要なソースになるが、
これのうちのtriangleIK.hのみをincludeすればよい。

```
#利用例
triangleIK * ik = new triangleIK(
   1.0, //上腕（根元の腕）の長さ
   1.0, //前腕（先の腕）の長さ
   new Vector3(1,1,1) //ターゲット位置の三次元座標
);
```

インスタンスを生成した後のターゲット座標等はプログラム側で適宜変更する。

## プログラム解説

本ライブラリはロボットアーム操作を目的としたものであり、

- Y軸回転するプラットフォーム部分
- X軸回転する腕部１，２

により構成される機械にて目標座標へ腕を到達させるための各軸の回転量を取得するものである。
根元、腕の関節部、目標地点の各点を三角形で結び、到達点への辺を構成する角度をそれぞれ取得することで駆動を達成させるものとする。
なお、サーボなどのアームの機械的特性は本プログラムには含まれない。


目標到達地点への必要Y軸回転の量は
```
ik->rotationY();
```
で取得できる。（取得結果はオイラー角）
各アームのX軸回転量を取得するためには
```
#上腕
ik->bow1Angle();
#前腕
ik->bow2Angle();
```
を使う。



以上。



